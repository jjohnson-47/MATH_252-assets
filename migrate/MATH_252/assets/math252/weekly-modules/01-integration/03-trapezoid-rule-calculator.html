<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Trapezoidal Rule Calculator</title>

  <!-- MathJax for LaTeX rendering -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>

  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f5f5;
      color: #333;
      line-height: 1.6;
    }

    .container {
      background: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      max-width: 900px;
      margin: 0 auto;
      border: 1px solid #e0e0e0;
    }

    .header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 10px;
      color: white;
    }

    .title {
      font-size: 2.2em;
      margin: 0 0 10px 0;
      font-weight: bold;
    }

    .subtitle {
      font-size: 1.1em;
      opacity: 0.9;
      margin: 0;
    }

    .tool-link {
      text-align: center;
      margin: 30px 0;
    }

    .tool-link a {
      display: inline-block;
      color: white;
      background: linear-gradient(45deg, #667eea, #764ba2);
      padding: 15px 30px;
      font-size: 1.2em;
      font-weight: bold;
      text-decoration: none;
      border-radius: 25px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    .tool-link a:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }

    .info-box {
      background: #e3f2fd;
      border-left: 4px solid #2196f3;
      padding: 20px;
      margin: 25px 0;
      border-radius: 0 8px 8px 0;
    }

    .info-box h3 {
      margin-top: 0;
      color: #1976d2;
    }

    .math-section {
      background: #f8f9fa;
      padding: 25px;
      border-radius: 8px;
      margin: 25px 0;
      border-left: 4px solid #ff9800;
    }

    .math-section h2 {
      color: #f57c00;
      margin-top: 0;
      margin-bottom: 15px;
    }

    .feature-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }

    .feature-item {
      background: white;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      padding: 20px;
      transition: all 0.3s ease;
    }

    .feature-item:hover {
      border-color: #667eea;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
    }

    .feature-item h3 {
      color: #667eea;
      margin-top: 0;
      margin-bottom: 15px;
    }

    .feature-item ul {
      margin: 0;
      padding-left: 20px;
    }

    .feature-item li {
      margin-bottom: 8px;
    }

    .usage-steps {
      background: #fff3e0;
      border-left: 4px solid #ff9800;
      padding: 20px;
      margin: 25px 0;
      border-radius: 0 8px 8px 0;
    }

    .usage-steps h2 {
      color: #f57c00;
      margin-top: 0;
    }

    .usage-steps ol {
      padding-left: 20px;
    }

    .usage-steps li {
      margin-bottom: 10px;
      padding-left: 5px;
    }

    .highlight {
      background: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%);
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
      border: 1px solid #4caf50;
    }

    .highlight strong {
      color: #2e7d32;
    }

    code {
      background: #f5f5f5;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      color: #d32f2f;
    }

    /* Ensure display math has proper spacing */
    mjx-container[jax="CHTML"][display="true"] {
      display: block;
      text-align: center;
      margin: 1.5em 0;
    }

    @media (max-width: 768px) {
      .container {
        padding: 15px;
        margin: 10px;
      }
      
      .title {
        font-size: 1.8em;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <div class="header">
    <h1 class="title">Trapezoidal Rule Calculator</h1>
    <p class="subtitle">Interactive tool for trapezoidal approximation of definite integrals</p>
  </div>

  <!-- Prominent Link to the Tool -->
  <div class="tool-link">
    <a href="https://colab.research.google.com/drive/1NhV9IG2_81Iw7zbA2sRTyXYfl5_vOETS?usp=sharing" target="_blank">
      Open Calculator
    </a>
  </div>

  <div class="info-box">
    <h3>What This Tool Does</h3>
    <p>This calculator demonstrates the Trapezoidal Rule by dividing your chosen function into trapezoid-shaped segments. You'll see both the numerical approximation and a visual breakdown of how trapezoids approximate the area under the curve.</p>
  </div>

  <div class="math-section">
    <h2>Trapezoidal Rule</h2>
    <p>The Trapezoidal Rule approximates definite integrals by connecting consecutive points on the function with straight lines, creating trapezoids instead of rectangles. This captures linear changes better than rectangular approximations.</p>

    <p>The formula for the Trapezoidal Rule over interval [a, b] with n subintervals is:</p>

    \[ T_n = \frac{\Delta x}{2} \left[ f(x_0) + 2\sum_{i=1}^{n-1} f(x_i) + f(x_n) \right] \]

    <p>where \( \Delta x = \frac{b-a}{n} \) and \( x_i = a + i\Delta x \).</p>

    <p>This can also be written as the sum of individual trapezoid areas:</p>

    \[ T_n = \sum_{i=1}^{n} \frac{f(x_{i-1}) + f(x_i)}{2} \cdot \Delta x \]

    <p>The Trapezoidal Rule has error of order O(Δx²), making it more accurate than rectangular approximations but less accurate than Simpson's Rule for smooth functions.</p>
  </div>

  <div class="feature-list">
    <div class="feature-item">
      <h3>What You'll See</h3>
      <ul>
        <li>Your function plotted clearly</li>
        <li>Trapezoidal segments overlaid on the curve</li>
        <li>Filled areas showing the approximation</li>
        <li>Grid points marking trapezoid vertices</li>
      </ul>
    </div>
    
    <div class="feature-item">
      <h3>Numerical Results</h3>
      <ul>
        <li>Trapezoidal Rule approximation</li>
        <li>Exact value comparison (when known)</li>
        <li>Absolute error calculation</li>
        <li>Step size (Δx) information</li>
      </ul>
    </div>
    
    <div class="feature-item">
      <h3>Error Analysis</h3>
      <ul>
        <li>Error vs. number of intervals graph</li>
        <li>Convergence rate visualization</li>
        <li>Current approximation highlighted</li>
        <li>See quadratic error reduction</li>
      </ul>
    </div>
  </div>

  <div class="usage-steps">
    <h2>How to Use the Calculator</h2>
    <ol>
      <li><strong>Open the tool:</strong> Click "Open Calculator" above to access the Google Colab notebook</li>
      <li><strong>Run the setup:</strong> Execute the first code block to import libraries and configure the environment</li>
      <li><strong>Choose your function:</strong> In the user parameters section, replace the function definition. Try <code>x**2</code>, <code>x**3</code>, <code>np.sin(x)</code>, or <code>np.exp(x)</code></li>
      <li><strong>Set the exact integral:</strong> If you know the exact answer, define it in <code>exact_integral()</code> for error analysis</li>
      <li><strong>Configure parameters:</strong> Set your interval [a, b] and number of subintervals n</li>
      <li><strong>Run the calculation:</strong> Execute the Trapezoidal rule code block to see the approximation</li>
      <li><strong>View results:</strong> Run the visualization block to see the trapezoidal approximations and error analysis</li>
    </ol>
    
    <p><strong>Tip:</strong> Start with small numbers like n=4 or n=8 to clearly see individual trapezoids, then increase n to watch accuracy improve.</p>
  </div>

  <div class="highlight">
    <strong>When Trapezoidal Rule Works Well:</strong> Functions that are approximately linear over small intervals benefit most from trapezoidal approximation. Try <code>x**2</code> or <code>np.exp(x)</code> to see how the straight-line segments capture the function's behavior.
  </div>

  <div class="info-box">
    <h3>Understanding the Trapezoidal Rule</h3>
    <p>This tool helps you visualize why the Trapezoidal Rule is more accurate than rectangular approximations. By connecting function values with straight lines instead of using horizontal rectangles, it better captures the function's slope and reduces approximation error.</p>
    
    <p>The error analysis shows the characteristic O(h²) convergence rate - meaning that halving the step size typically reduces error by a factor of 4.</p>
  </div>
</div>

</body>
</html>
