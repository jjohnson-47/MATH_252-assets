<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Simpson's Rule Calculator</title>

  <!-- MathJax for LaTeX rendering -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>

  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f5f5;
      color: #333;
      line-height: 1.6;
    }

    .container {
      background: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      max-width: 900px;
      margin: 0 auto;
      border: 1px solid #e0e0e0;
    }

    .header {
      text-align: center;
      margin-bottom: 30px;
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 10px;
      color: white;
    }

    .title {
      font-size: 2.2em;
      margin: 0 0 10px 0;
      font-weight: bold;
    }

    .subtitle {
      font-size: 1.1em;
      opacity: 0.9;
      margin: 0;
    }

    .tool-link {
      text-align: center;
      margin: 30px 0;
    }

    .tool-link a {
      display: inline-block;
      color: white;
      background: linear-gradient(45deg, #667eea, #764ba2);
      padding: 15px 30px;
      font-size: 1.2em;
      font-weight: bold;
      text-decoration: none;
      border-radius: 25px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    .tool-link a:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }

    .info-box {
      background: #e3f2fd;
      border-left: 4px solid #2196f3;
      padding: 20px;
      margin: 25px 0;
      border-radius: 0 8px 8px 0;
    }

    .info-box h3 {
      margin-top: 0;
      color: #1976d2;
    }

    .math-section {
      background: #f8f9fa;
      padding: 25px;
      border-radius: 8px;
      margin: 25px 0;
      border-left: 4px solid #ff9800;
    }

    .math-section h2 {
      color: #f57c00;
      margin-top: 0;
      margin-bottom: 15px;
    }

    .method-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }

    .method-card {
      background: white;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      padding: 20px;
      transition: all 0.3s ease;
    }

    .method-card:hover {
      border-color: #667eea;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
    }

    .method-card h3 {
      color: #667eea;
      margin-top: 0;
      margin-bottom: 10px;
    }

    .method-card .formula {
      background: #f8f9fa;
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
      font-family: 'Courier New', monospace;
      font-size: 0.9em;
    }

    .feature-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }

    .feature-item {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #e0e0e0;
    }

    .feature-item h3 {
      color: #667eea;
      margin-top: 0;
      margin-bottom: 15px;
    }

    .feature-item ul {
      margin: 0;
      padding-left: 20px;
    }

    .feature-item li {
      margin-bottom: 8px;
    }

    .usage-steps {
      background: #fff3e0;
      border-left: 4px solid #ff9800;
      padding: 20px;
      margin: 25px 0;
      border-radius: 0 8px 8px 0;
    }

    .usage-steps h2 {
      color: #f57c00;
      margin-top: 0;
    }

    .usage-steps ol {
      padding-left: 20px;
    }

    .usage-steps li {
      margin-bottom: 10px;
      padding-left: 5px;
    }

    .highlight {
      background: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%);
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
      border: 1px solid #4caf50;
    }

    .highlight strong {
      color: #2e7d32;
    }

    code {
      background: #f5f5f5;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      color: #d32f2f;
    }

    /* Ensure display math has proper spacing */
    mjx-container[jax="CHTML"][display="true"] {
      display: block;
      text-align: center;
      margin: 1.5em 0;
    }

    @media (max-width: 768px) {
      .container {
        padding: 15px;
        margin: 10px;
      }
      
      .title {
        font-size: 1.8em;
      }
      
      .method-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <div class="header">
    <h1 class="title">Simpson's Rule Calculator</h1>
    <p class="subtitle">Interactive tool for exploring parabolic approximation of definite integrals</p>
  </div>

  <!-- Prominent Link to the Tool -->
  <div class="tool-link">
    <a href="https://colab.research.google.com/drive/1KY4hmnUwVL5ubE_1c5vlUHwocrRGWUS7?usp=sharing" target="_blank">
      Open Calculator
    </a>
  </div>

  <div class="info-box">
    <h3>What This Tool Does</h3>
    <p>This calculator demonstrates Simpson's Rule by breaking your chosen function into parabolic segments. You'll see both the numerical approximation and a visual breakdown of how parabolas fit through groups of three points to approximate the area under the curve.</p>
  </div>

  <div class="math-section">
    <h2>Simpson's Rule</h2>
    <p>Simpson's Rule approximates definite integrals by fitting parabolas through groups of three points. Instead of using rectangles or trapezoids, this method captures the curvature of functions more accurately.</p>

    <p>The formula for Simpson's Rule over interval [a, b] with n even subintervals is:</p>

    \[ S_n = \frac{\Delta x}{3} \left[ f(x_0) + 4\sum_{i=1,3,5...}^{n-1} f(x_i) + 2\sum_{i=2,4,6...}^{n-2} f(x_i) + f(x_n) \right] \]

    <p>where \( \Delta x = \frac{b-a}{n} \) and \( x_i = a + i\Delta x \).</p>

    <p>The pattern of coefficients is: <strong>1, 4, 2, 4, 2, 4, ..., 4, 2, 4, 1</strong></p>

    <p>This gives Simpson's Rule its characteristic high accuracy - it's exact for polynomials of degree 3 or less, and typically much more accurate than rectangular or trapezoidal approximations.</p>
  </div>

  <div class="feature-list">
    <div class="feature-item">
      <h3>What You'll See</h3>
      <ul>
        <li>Your function plotted in cyan</li>
        <li>Individual parabolic segments in different colors</li>
        <li>Points used for each parabola marked clearly</li>
        <li>Filled areas showing the approximation</li>
      </ul>
    </div>
    
    <div class="feature-item">
      <h3>Numerical Results</h3>
      <ul>
        <li>Simpson's Rule approximation</li>
        <li>Exact value comparison (when known)</li>
        <li>Absolute error calculation</li>
        <li>Step size (Δx) information</li>
      </ul>
    </div>
    
    <div class="feature-item">
      <h3>Error Analysis</h3>
      <ul>
        <li>Error vs. number of intervals graph</li>
        <li>Logarithmic scale to show convergence</li>
        <li>Current approximation highlighted</li>
        <li>See how accuracy improves with more intervals</li>
      </ul>
    </div>
  </div>

  <div class="usage-steps">
    <h2>How to Use the Calculator</h2>
    <ol>
      <li><strong>Open the tool:</strong> Click "Open Calculator" above to access the Google Colab notebook</li>
      <li><strong>Run the setup:</strong> Execute the first code block to import libraries and set up the environment</li>
      <li><strong>Choose your function:</strong> In the user parameters section, replace the function definition. Try <code>x**3</code>, <code>x**2 + 1</code>, <code>1/(1 + x**2)</code>, or <code>np.exp(x)</code></li>
      <li><strong>Set the exact integral:</strong> If you know the exact answer, define it in <code>exact_integral()</code> for error analysis</li>
      <li><strong>Configure parameters:</strong> Set your interval [a, b] and number of subintervals n (must be even)</li>
      <li><strong>Run the calculation:</strong> Execute the Simpson's rule code block to see the approximation</li>
      <li><strong>View results:</strong> Run the visualization block to see the parabolic approximations and error analysis</li>
    </ol>
    
    <p><strong>Tip:</strong> Start with small even numbers like n=4 or n=6 to clearly see individual parabolas, then increase n to watch accuracy improve.</p>
  </div>

  <div class="highlight">
    <strong>Good Functions to Try:</strong> Functions with more curvature like <code>x**3</code> or <code>1/(1 + x**2)</code> show Simpson's Rule advantages better than linear functions. The parabolic approximations become clearly visible with these choices.
  </div>

  <div class="info-box">
    <h3>Understanding Simpson's Rule</h3>
    <p>This tool helps you see why Simpson's Rule works so well. By fitting parabolas instead of straight lines, it captures the natural curvature of functions. Watch how each colored parabolic segment closely follows your function's shape, and notice how the approximation improves dramatically as you increase the number of intervals.</p>
    
    <p>The error analysis graph shows Simpson's Rule's O(h⁴) convergence rate - meaning that halving the step size typically reduces error by a factor of 16.</p>
  </div>
</div>

</body>
</html>
